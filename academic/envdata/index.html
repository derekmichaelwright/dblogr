<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

        <meta name="author" content="Derek Michael Wright derek.wright@usask.ca" />
    
        <meta name="date" content="2023-04-07" />
    
    <title>Environmental Data Vignette</title>

        <script src="index_files/header-attrs-2.21/header-attrs.js"></script>
        <script src="index_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="index_files/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="index_files/bootstrap-3.3.7/js/bootstrap.min.js"></script>
        <script src="index_files/navigation-1.1/tabsets.js"></script>
        <script src="index_files/navigation-1.1/codefolding.js"></script>
        <link href="index_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
        <script src="index_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
        <link href="index_files/readthedown-0.1/readthedown.css" rel="stylesheet" />
        <link href="index_files/readthedown-0.1/readthedown_fonts_embed.css" rel="stylesheet" />
        <script src="index_files/readthedown-0.1/readthedown.js"></script>
        <link href="index_files/font-awesome-6.2.1/css/all.min.css" rel="stylesheet" />
        <link href="index_files/font-awesome-6.2.1/css/v4-shims.min.css" rel="stylesheet" />
    
    
        <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          background-color: #ffffff;
          color: #a0a0a0;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
      div.sourceCode
        { color: #1f1c1b; background-color: #ffffff; }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span { color: #1f1c1b; } /* Normal */
      code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
      code span.an { color: #ca60ca; } /* Annotation */
      code span.at { color: #0057ae; } /* Attribute */
      code span.bn { color: #b08000; } /* BaseN */
      code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
      code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #924c9d; } /* Char */
      code span.cn { color: #aa5500; } /* Constant */
      code span.co { color: #898887; } /* Comment */
      code span.cv { color: #0095ff; } /* CommentVar */
      code span.do { color: #607880; } /* Documentation */
      code span.dt { color: #0057ae; } /* DataType */
      code span.dv { color: #b08000; } /* DecVal */
      code span.er { color: #bf0303; text-decoration: underline; } /* Error */
      code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
      code span.fl { color: #b08000; } /* Float */
      code span.fu { color: #644a9b; } /* Function */
      code span.im { color: #ff5500; } /* Import */
      code span.in { color: #b08000; } /* Information */
      code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
      code span.op { color: #1f1c1b; } /* Operator */
      code span.ot { color: #006e28; } /* Other */
      code span.pp { color: #006e28; } /* Preprocessor */
      code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
      code span.sc { color: #3daee9; } /* SpecialChar */
      code span.ss { color: #ff5500; } /* SpecialString */
      code span.st { color: #bf0303; } /* String */
      code span.va { color: #0057ae; } /* Variable */
      code span.vs { color: #bf0303; } /* VerbatimString */
      code span.wa { color: #bf0303; } /* Warning */
    </style>
    
        <link rel="stylesheet" href="C:/gitfolder/dblogr/custom_dblogr.css" type="text/css" />
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
        <script>
      $(document).ready(function () {
	  	  	  window.initializeCodeFolding("show" === "show");
	        });
    </script>
    
    <!-- code download -->
    
    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .tabset-dropdown > .nav-tabs > li.active a {
  	  padding: 0 15px !important;
      }

      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
	  margin-left: 0 !important;
      }
    </style>
    
</head>

<body class="preload">

   	
         <!-- readthedown start -->   
   <div id="content" data-toggle="wy-nav-shift">
     <nav id="nav-top" role="navigation" aria-label="top navigation">
       <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
     </nav>
         
      <div class="btn-group pull-right">
     <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
     <ul class="dropdown-menu" style="min-width: 50px;">
	    	    <li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
	    <li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
	    	    	         </ul>
   </div>
   
      <div class="navbar">
        <a href="https://derekmichaelwright.github.io/dblogr"><i class="fa fa-house"></i> dblogr</a>
        <a href="https://derekmichaelwright.github.io/dblogr#about_me"><i class="fa fa-address-card"></i> About</a>
        <a href="https://derekmichaelwright.github.io/dblogr#publications"><i class="fa fa-newspaper"></i> Publications</a>
        <a href="https://derekmichaelwright.github.io/dblogr#academic"><i class="fa fa-laptop"></i> Academic</a>
        <a href="https://derekmichaelwright.github.io/dblogr#agdata"><i class="fab fa-r-project"></i> agData</a>
        <a href="https://derekmichaelwright.github.io/dblogr#blog"><i class="fa fa-chart-line"></i> Blog</a>
      </div>
        
      <h1 class="title">Environmental Data Vignette</h1>
         <h1 class="subtitle">An R tutorial on how to manipulate and
plot environmental data</h1>
   
         <!-- readthedown authors -->
   <div id="sidebar">
    <h2><a href="#content">Environmental Data Vignette</a></h2>
    <div id="toc">
      <ul>
      <li><a href="#introduction"
      id="toc-introduction">Introduction</a></li>
      <li><a href="#data" id="toc-data">Data</a></li>
      <li><a href="#prepare-the-data" id="toc-prepare-the-data">Prepare
      the data</a></li>
      <li><a href="#summarize-data" id="toc-summarize-data">Summarize
      data</a></li>
      <li><a href="#plot-all-data" id="toc-plot-all-data">Plot all
      data</a></li>
      <li><a href="#temperature"
      id="toc-temperature">Temperature</a></li>
      <li><a href="#day-lengths" id="toc-day-lengths">Day
      Lengths</a></li>
      <li><a href="#precipitation"
      id="toc-precipitation">Precipitation</a></li>
      <li><a href="#temperature-day-length-rainfall"
      id="toc-temperature-day-length-rainfall">Temperature, Day Length
      &amp; Rainfall</a></li>
      <li><a href="#soil-temperature" id="toc-soil-temperature">Soil
      Temperature</a></li>
      <li><a href="#each-experiment" id="toc-each-experiment">Each
      experiment</a>
      <ul>
      <li><a href="#sutherland-canada-2016"
      id="toc-sutherland-canada-2016">Sutherland, Canada 2016</a></li>
      <li><a href="#sutherland-canada-2017"
      id="toc-sutherland-canada-2017">Sutherland, Canada 2017</a></li>
      <li><a href="#sutherland-canada-2018"
      id="toc-sutherland-canada-2018">Sutherland, Canada 2018</a></li>
      <li><a href="#rosthern-canada-2016"
      id="toc-rosthern-canada-2016">Rosthern, Canada 2016</a></li>
      <li><a href="#rosthern-canada-2017"
      id="toc-rosthern-canada-2017">Rosthern, Canada 2017</a></li>
      <li><a href="#central-ferry-usa-2017"
      id="toc-central-ferry-usa-2017">Central Ferry, USA 2017</a></li>
      <li><a href="#central-ferry-usa-2018"
      id="toc-central-ferry-usa-2018">Central Ferry, USA 2018</a></li>
      <li><a href="#bhopal-india-2016"
      id="toc-bhopal-india-2016">Bhopal, India 2016</a></li>
      <li><a href="#bhopal-india-2017"
      id="toc-bhopal-india-2017">Bhopal, India 2017</a></li>
      <li><a href="#jessore-bangladesh-2016"
      id="toc-jessore-bangladesh-2016">Jessore, Bangladesh 2016</a></li>
      <li><a href="#jessore-bangladesh-2017"
      id="toc-jessore-bangladesh-2017">Jessore, Bangladesh 2017</a></li>
      <li><a href="#bardiya-nepal-2016"
      id="toc-bardiya-nepal-2016">Bardiya, Nepal 2016</a></li>
      <li><a href="#bardiya-nepal-2017"
      id="toc-bardiya-nepal-2017">Bardiya, Nepal 2017</a></li>
      <li><a href="#marchouch-morocco-2016"
      id="toc-marchouch-morocco-2016">Marchouch, Morocco 2016</a></li>
      <li><a href="#marchouch-morocco-2017"
      id="toc-marchouch-morocco-2017">Marchouch, Morocco 2017</a></li>
      <li><a href="#cordoba-spain-2016"
      id="toc-cordoba-spain-2016">Cordoba, Spain 2016</a></li>
      <li><a href="#cordoba-spain-2017"
      id="toc-cordoba-spain-2017">Cordoba, Spain 2017</a></li>
      <li><a href="#metaponto-italy-2016"
      id="toc-metaponto-italy-2016">Metaponto, Italy 2016</a></li>
      <li><a href="#metaponto-italy-2017"
      id="toc-metaponto-italy-2017">Metaponto, Italy 2017</a></li>
      </ul></li>
      </ul>
    </div>
    <div id="postamble" data-toggle="wy-nav-shift" class="status">
                  <p class="author"><span class="glyphicon glyphicon-user"></span> Derek
Michael Wright <a href="mailto:derek.wright@usask.ca"
class="email">derek.wright@usask.ca</a></p>
                        <p class="date"><span class="glyphicon glyphicon-calendar"></span> 2023-04-07</p>
          </div>
   </div>
     

   
      
   
<!-- Don't indent these lines or it will mess pre blocks indentation --> 
<div id="main">
<hr />
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The purpose of this document is to provide a few examples of how to
manipulate and plot the environmental data. The data for this vignette
comes from lentil field trials in the AGILE project.</p>
<hr />
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<p>Data sets can be downloaded from <a
href="http://knowpulse.usask.ca/portal/"><strong>knowpulse.usask.ca/</strong></a>
or my <a
href="https://github.com/derekmichaelwright/dblogr/tree/master/content/academic/envdata"><strong>github</strong></a>.</p>
<p><i class="far fa-floppy-disk" role="presentation" aria-label="floppy-disk icon"></i>
<a href="environment_data.tar">environment_data.tar</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github(&quot;derekmichaelwright/agData&quot;)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(agData)</span></code></pre></div>
<hr />
</div>
<div id="prepare-the-data" class="section level1">
<h1>Prepare the data</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>KP_file <span class="ot">&lt;-</span> <span class="st">&quot;environment_data.tar&quot;</span> <span class="co"># Location of File</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">untar</span>(KP_file, <span class="at">list =</span> T) <span class="co"># Store filenames</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">untar</span>(KP_file) <span class="co"># Extract files</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">list</span>() <span class="co"># Create Empty list</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>()[<span class="fu">grepl</span>(<span class="st">&quot;.csv&quot;</span>, <span class="fu">list.files</span>())]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(files)) { </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  dd[[i]] <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(files[i], <span class="at">stringsAsFactors =</span> T)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(dd[[i]])[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Location&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind files together</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, dd)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(DaysAfterPlanting))</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data for plotting</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>locs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Rosthern, Canada&quot;</span>, <span class="st">&quot;Sutherland, Canada&quot;</span>, <span class="st">&quot;Central Ferry, USA&quot;</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Bhopal, India&quot;</span>,<span class="st">&quot;Jessore, Bangladesh&quot;</span>,<span class="st">&quot;Bardiya, Nepal&quot;</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Marchouch, Morocco&quot;</span>, <span class="st">&quot;Cordoba, Spain&quot;</span>, <span class="st">&quot;Metaponto, Italy&quot;</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Value =</span> <span class="fu">as.numeric</span>(Value)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Value)) <span class="sc">%&gt;%</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Expt =</span> <span class="fu">paste</span>(Location, Year),</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">Time =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Time) <span class="sc">|</span> Time <span class="sc">==</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;12:00:00&quot;</span>, <span class="fu">as.character</span>(Time)),</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">Date =</span> <span class="fu">as.Date</span>(Date),</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">DateTime =</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(Date, Time), </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                               <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d %H:%M:%OS&quot;</span>),</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">Location =</span> <span class="fu">factor</span>(Location, <span class="at">levels =</span> locs),</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">LoggerID =</span> <span class="fu">factor</span>(LoggerID, <span class="at">levels =</span> <span class="fu">unique</span>(.<span class="sc">$</span>LoggerID)) )</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a color palette</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>myCols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;darkgreen&quot;</span>, <span class="st">&quot;darkred&quot;</span>, <span class="st">&quot;coral3&quot;</span>, <span class="st">&quot;deeppink3&quot;</span>, <span class="st">&quot;darkcyan&quot;</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;burlywood4&quot;</span>, <span class="st">&quot;darkslateblue&quot;</span>, <span class="st">&quot;darkmagenta&quot;</span>, <span class="st">&quot;darkgoldenrod3&quot;</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>myCaption <span class="ot">&lt;-</span> <span class="st">&quot;\u00A9 derekmichaelwright.github.io/dblogr/ | Data: AGILE&quot;</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co"># View table</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 355,207 × 11
##    Location        Year Date       Time     LoggerID        Measurement Unit  Value DaysAfterPlanting Expt         DateTime           
##    &lt;fct&gt;          &lt;int&gt; &lt;date&gt;     &lt;chr&gt;    &lt;fct&gt;           &lt;fct&gt;       &lt;fct&gt; &lt;dbl&gt;             &lt;int&gt; &lt;chr&gt;        &lt;dttm&gt;             
##  1 Bardiya, Nepal  2016 2016-11-14 06:44:24 Weather Station Day Length  Hours  10.6                 0 Bardiya, Ne… 2016-11-14 06:44:24
##  2 Bardiya, Nepal  2016 2016-11-15 06:45:36 Weather Station Day Length  Hours  10.6                 1 Bardiya, Ne… 2016-11-15 06:45:36
##  3 Bardiya, Nepal  2016 2016-11-16 06:46:12 Weather Station Day Length  Hours  10.6                 2 Bardiya, Ne… 2016-11-16 06:46:12
##  4 Bardiya, Nepal  2016 2016-11-17 06:46:48 Weather Station Day Length  Hours  10.6                 3 Bardiya, Ne… 2016-11-17 06:46:48
##  5 Bardiya, Nepal  2016 2016-11-18 06:48:00 Weather Station Day Length  Hours  10.6                 4 Bardiya, Ne… 2016-11-18 06:48:00
##  6 Bardiya, Nepal  2016 2016-11-19 06:48:36 Weather Station Day Length  Hours  10.5                 5 Bardiya, Ne… 2016-11-19 06:48:36
##  7 Bardiya, Nepal  2016 2016-11-20 06:49:12 Weather Station Day Length  Hours  10.5                 6 Bardiya, Ne… 2016-11-20 06:49:12
##  8 Bardiya, Nepal  2016 2016-11-21 06:50:24 Weather Station Day Length  Hours  10.5                 7 Bardiya, Ne… 2016-11-21 06:50:24
##  9 Bardiya, Nepal  2016 2016-11-22 06:51:00 Weather Station Day Length  Hours  10.5                 8 Bardiya, Ne… 2016-11-22 06:51:00
## 10 Bardiya, Nepal  2016 2016-11-23 06:51:36 Weather Station Day Length  Hours  10.5                 9 Bardiya, Ne… 2016-11-23 06:51:36
## # ℹ 355,197 more rows</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List experiments</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Location, Year)</span></code></pre></div>
<pre><code>##               Location Year
## 1       Bardiya, Nepal 2016
## 2       Bardiya, Nepal 2017
## 3        Bhopal, India 2016
## 4        Bhopal, India 2017
## 5   Central Ferry, USA 2017
## 6   Central Ferry, USA 2018
## 7       Cordoba, Spain 2016
## 8       Cordoba, Spain 2017
## 9  Jessore, Bangladesh 2016
## 10 Jessore, Bangladesh 2017
## 11  Marchouch, Morocco 2016
## 12  Marchouch, Morocco 2017
## 13    Metaponto, Italy 2016
## 14    Metaponto, Italy 2017
## 15    Rosthern, Canada 2016
## 16    Rosthern, Canada 2017
## 17  Sutherland, Canada 2016
## 18  Sutherland, Canada 2017
## 19  Sutherland, Canada 2018</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#List Measurements from a single experiment</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Measurement)</span></code></pre></div>
<pre><code>##               Measurement
## 1              Day Length
## 2             Temperature
## 3       Relative Humidity
## 4           Precipitation
## 5               Dew Point
## 6       Rain Accumulation
## 7         Solar Radiation
## 8     Barometric Pressure
## 9           Soil Moisture
## 10   Soil Temperature 5cm
## 11  Soil Temperature 10cm
## 12  Soil Temperature 20cm
## 13  Soil Temperature 50cm
## 14 Soil Temperature 100cm</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List data logger names from a single experiment</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(LoggerID)</span></code></pre></div>
<pre><code>##                 LoggerID
## 1        Weather Station
## 2       Weather Station1
## 3       Weather Station2
## 4       Weather Station3
## 5               IButton1
## 6               IButton2
## 7               IButton3
## 8                   Hobo
## 9 Kernen Weather Station</code></pre>
<hr />
</div>
<div id="summarize-data" class="section level1">
<h1>Summarize data</h1>
<p>Calucate min, mean and max for each measurement</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Location, Year, Date, Measurement) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Value), <span class="fu">funs</span>(min, mean, max)) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(xx)</span></code></pre></div>
<pre><code>## tibble [18,795 × 7] (S3: tbl_df/tbl/data.frame)
##  $ Location   : Factor w/ 9 levels &quot;Rosthern, Canada&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Year       : int [1:18795] 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 ...
##  $ Date       : Date[1:18795], format: &quot;2016-05-06&quot; &quot;2016-05-06&quot; &quot;2016-05-07&quot; &quot;2016-05-07&quot; ...
##  $ Measurement: Factor w/ 64 levels &quot;Day Length&quot;,&quot;Maximum Temperature&quot;,..: 1 6 1 6 1 6 1 6 1 6 ...
##  $ min        : num [1:18795] 15.1 3 15.2 0 15.2 ...
##  $ mean       : num [1:18795] 15.1 11.1 15.2 12.8 15.2 ...
##  $ max        : num [1:18795] 15.1 18 15.2 26 15.2 ...</code></pre>
<hr />
</div>
<div id="plot-all-data" class="section level1">
<h1>Plot all data</h1>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DateTime, <span class="at">y =</span> Value, <span class="at">color =</span> LoggerID)) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(Measurement <span class="sc">+</span> Unit <span class="sc">~</span> ., <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">labeller =</span> <span class="fu">label_wrap_gen</span>(<span class="at">width =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>(<span class="at">strip.placement =</span> <span class="st">&quot;outside&quot;</span>, <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_datetime</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_minor_breaks =</span> <span class="st">&quot;1 day&quot;</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sutherland, Canada 2016&quot;</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_01.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">15</span>, <span class="at">limitsize =</span> F)</span></code></pre></div>
<p><img src="envdata_01.png" /></p>
<hr />
</div>
<div id="temperature" class="section level1">
<h1>Temperature</h1>
<p>Plot and calculate daily min, mean and max</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>                    Measurement <span class="sc">==</span> <span class="st">&quot;Temperature&quot;</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DateTime, <span class="at">y =</span> Value, <span class="at">color =</span> LoggerID)) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_datetime</span>(<span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span> , <span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sutherland, Canada 2016&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Temperautre (C)&quot;</span>, <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_02.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">7</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="envdata_02.png" /></p>
<hr />
<p>Plot temperatures for one month (July 2016)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> mp <span class="sc">+</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_datetime</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_minor_breaks =</span> <span class="st">&quot;1 day&quot;</span>, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span> , </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">limits =</span> <span class="fu">as.POSIXct</span>(<span class="fu">c</span>(<span class="st">&quot;2016-07-01&quot;</span>,<span class="st">&quot;2016-08-01&quot;</span>))) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">45</span>))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_03.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">7</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="envdata_03.png" /></p>
<hr />
<p>Calculate daily mean for each data logger</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>yy <span class="ot">&lt;-</span> xx <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(LoggerID, Date) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Value =</span> <span class="fu">mean</span>(Value)) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(LoggerID, Value) <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Temp_Mean =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(.,<span class="sc">-</span>Date), <span class="at">na.rm =</span> T))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(yy)</span></code></pre></div>
<pre><code>## tibble [115 × 7] (S3: tbl_df/tbl/data.frame)
##  $ Date                  : Date[1:115], format: &quot;2016-04-27&quot; &quot;2016-04-28&quot; &quot;2016-04-29&quot; &quot;2016-04-30&quot; ...
##  $ Weather Station       : num [1:115] NA NA NA NA NA NA NA NA NA NA ...
##  $ IButton2              : num [1:115] NA NA 18.3 16.7 16.8 ...
##  $ IButton3              : num [1:115] NA NA 17.5 16.7 16.9 ...
##  $ Hobo                  : num [1:115] NA NA NA NA NA ...
##  $ Kernen Weather Station: num [1:115] 6.43 8.19 8.94 9.84 11.01 ...
##  $ Temp_Mean             : num [1:115] 6.43 8.19 14.93 14.4 14.91 ...</code></pre>
<p>Calculate daily min, mean and max from specific data loggers</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>yy <span class="ot">&lt;-</span> xx <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(LoggerID <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Ibutton2&quot;</span>,<span class="st">&quot;IButton3&quot;</span>,<span class="st">&quot;Hobo&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Location, Date) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Value), <span class="fu">funs</span>(min, mean, max), <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Temp_min =</span> min, <span class="at">Temp_mean =</span> mean, <span class="at">Temp_max =</span> max)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(yy)</span></code></pre></div>
<pre><code>## gropd_df [113 × 5] (S3: grouped_df/tbl_df/tbl/data.frame)
##  $ Location : Factor w/ 9 levels &quot;Rosthern, Canada&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ Date     : Date[1:113], format: &quot;2016-04-29&quot; &quot;2016-04-30&quot; &quot;2016-05-01&quot; &quot;2016-05-02&quot; ...
##  $ Temp_min : num [1:113] 8.04 2.52 3.02 7.03 4.53 ...
##  $ Temp_mean: num [1:113] 17.5 16.7 16.9 22.2 21.8 ...
##  $ Temp_max : num [1:113] 27.1 35.5 35 41 46.5 ...
##  - attr(*, &quot;groups&quot;)= tibble [1 × 2] (S3: tbl_df/tbl/data.frame)
##   ..$ Location: Factor w/ 9 levels &quot;Rosthern, Canada&quot;,..: 2
##   ..$ .rows   : list&lt;int&gt; [1:1] 
##   .. ..$ : int [1:113] 1 2 3 4 5 6 7 8 9 10 ...
##   .. ..@ ptype: int(0) 
##   ..- attr(*, &quot;.drop&quot;)= logi TRUE</code></pre>
<p>Plot daily mean temperatures for each experiment</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Measurement <span class="sc">==</span> <span class="st">&quot;Temperature&quot;</span>, Year <span class="sc">!=</span> <span class="dv">2018</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Location, Year, Expt, DaysAfterPlanting) <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(Value))</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DaysAfterPlanting, <span class="at">y =</span> Mean, <span class="at">color =</span> Location)) <span class="sc">+</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">geom =</span> <span class="st">&quot;line&quot;</span>, <span class="at">method =</span> <span class="st">&quot;loess&quot;</span>, <span class="at">se =</span> F, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Year <span class="sc">~</span> .) <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>() <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Temperature&quot;</span>, </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Degrees Celsius&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Days After Planting&quot;</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_04.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="envdata_04.png" /></p>
<hr />
</div>
<div id="day-lengths" class="section level1">
<h1>Day Lengths</h1>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Measurement <span class="sc">==</span> <span class="st">&quot;Day Length&quot;</span>, Year <span class="sc">!=</span> <span class="dv">2018</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Location, Year, Expt, DaysAfterPlanting) <span class="sc">%&gt;%</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(Value) )</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DaysAfterPlanting, <span class="at">y =</span> Mean, <span class="at">color =</span> Location)) <span class="sc">+</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Year <span class="sc">~</span> .) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>() <span class="sc">+</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Day Lengths&quot;</span>,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Hours&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Days After Planting&quot;</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_05.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="envdata_05.png" /></p>
<hr />
</div>
<div id="precipitation" class="section level1">
<h1>Precipitation</h1>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Measurement <span class="sc">==</span> <span class="st">&quot;Precipitation&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Expt, Location, Year) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Rainfall =</span> <span class="fu">sum</span>(Value)) <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Rainfall) <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Expt =</span> <span class="fu">factor</span>(Expt, <span class="at">levels =</span> Expt),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">Year =</span> <span class="fu">factor</span>(Year))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> Location, <span class="at">y =</span> Rainfall, <span class="at">fill =</span> Year)) <span class="sc">+</span> </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">0.3</span>,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="fu">position_dodge2</span>(<span class="at">preserve =</span> <span class="st">&quot;single&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>() <span class="sc">+</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Total Precipitation&quot;</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_06.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="envdata_06.png" /></p>
<hr />
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Measurement <span class="sc">==</span> <span class="st">&quot;Precipitation&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Location, Year, Expt, Date, DaysAfterPlanting) <span class="sc">%&gt;%</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Value =</span> <span class="fu">sum</span>(Value))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DaysAfterPlanting, <span class="at">y =</span> Value)) <span class="sc">+</span> </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(Location<span class="sc">~</span>., <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>() <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Precipitation&quot;</span>, <span class="at">y =</span> <span class="st">&quot;mm&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Days After Planting&quot;</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_07.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">8</span>)</span></code></pre></div>
<p><img src="envdata_07.png" /></p>
<hr />
</div>
<div id="temperature-day-length-rainfall" class="section level1">
<h1>Temperature, Day Length &amp; Rainfall</h1>
<p>Temperature and Daylength will require separate axes so we will have
to rescale the data.</p>
<p><span
class="math display">\[y_{scaled}=(y_{2i}-min(y_2))*\frac{max(y_1)-min(y_1)}{max(y_2)-min(y_2)}\]</span></p>
<p><span
class="math display">\[y_{2i}=y_{scaled}*\frac{max(y_2)-min(y_2)}{max(y_1)-min(y_1)}+min(y_2)\]</span></p>
<p><em>e.g.</em>,</p>
<p><span
class="math display">\[12=(11.333-9.11)*\frac{(40-0)}{16.52-9.11})\]</span></p>
<p><span
class="math display">\[11.333=12*\frac{16.52-9.11}{40-0}+9.11\]</span></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep rainfall data</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>locs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sutherland, Canada&quot;</span>, <span class="st">&quot;Metaponto, Italy&quot;</span>, <span class="st">&quot;Bhopal, India&quot;</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>xR <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Location <span class="sc">%in%</span> locs, Year <span class="sc">==</span> <span class="dv">2017</span>, </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>         Measurement <span class="sc">==</span> <span class="st">&quot;Precipitation&quot;</span>, Value <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Expt, Date, DaysAfterPlanting) <span class="sc">%&gt;%</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Value =</span> <span class="fu">sum</span>(Value))</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep temperature and daylength data</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Location <span class="sc">%in%</span> locs, Year <span class="sc">==</span> <span class="dv">2017</span>,</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>         Measurement <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Temperature&quot;</span>, <span class="st">&quot;Day Length&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Expt, Measurement, Date) <span class="sc">%&gt;%</span> </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(Value), <span class="fu">funs</span>(min, mean, max)) <span class="sc">%&gt;%</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(Calc, Value, min, mean, max) <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Measurement =</span> plyr<span class="sc">::</span><span class="fu">mapvalues</span>(Measurement, </span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">&quot;Temperature&quot;</span>, <span class="st">&quot;Day Length&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Temp&quot;</span>, <span class="st">&quot;DayLen&quot;</span>)),</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">Measurement =</span> <span class="fu">paste</span>(Measurement, Calc, <span class="at">sep=</span><span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Calc) <span class="sc">%&gt;%</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Measurement <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;DayLen_min&quot;</span>, <span class="st">&quot;DayLen_max&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(Measurement, Value) <span class="sc">%&gt;%</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DayLen_Rescaled =</span> scales<span class="sc">::</span><span class="fu">rescale</span>(DayLen_mean, <span class="at">to =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>)))</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Print</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(xx)</span></code></pre></div>
<pre><code>## tibble [450 × 7] (S3: tbl_df/tbl/data.frame)
##  $ Expt           : chr [1:450] &quot;Bhopal, India 2017&quot; &quot;Bhopal, India 2017&quot; &quot;Bhopal, India 2017&quot; &quot;Bhopal, India 2017&quot; ...
##  $ Date           : Date[1:450], format: &quot;2017-11-09&quot; &quot;2017-11-10&quot; &quot;2017-11-11&quot; &quot;2017-11-12&quot; ...
##  $ DayLen_mean    : num [1:450] 11 11 11 10.9 10.9 ...
##  $ Temp_max       : num [1:450] 30.5 29.6 27.3 28.1 28.9 29.5 30.5 28.4 26.7 25.3 ...
##  $ Temp_mean      : num [1:450] 26.6 25.6 24 23.6 24.8 ...
##  $ Temp_min       : num [1:450] 22.6 21.7 20.7 19.2 20.6 19.3 21.6 20.3 20.5 19.4 ...
##  $ DayLen_Rescaled: num [1:450] 11.5 11.4 11.3 11.2 11.1 ...</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Collect values for rescaling seconday axis</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(xx<span class="sc">$</span>DayLen_mean)</span></code></pre></div>
<pre><code>## [1]  9.11 16.52</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Temp_mean)) <span class="sc">+</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(Expt <span class="sc">~</span> ., <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">&quot;free_x&quot;</span>) <span class="sc">+</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;Red&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> DayLen_Rescaled), <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> xR, <span class="fu">aes</span>(<span class="at">y =</span> Value), <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Temp_min, <span class="at">ymax =</span> Temp_max), </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">fill =</span> <span class="fu">alpha</span>(<span class="st">&quot;Red&quot;</span>, <span class="fl">0.25</span>), </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="fu">alpha</span>(<span class="st">&quot;Red&quot;</span>, <span class="fl">0.25</span>) ) <span class="sc">+</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">name =</span> <span class="cn">NULL</span>, <span class="at">date_labels =</span> <span class="st">&quot;%b&quot;</span> , <span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;\u00B0Celcius / mm Rain&quot;</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">*</span> (<span class="fl">16.62-9.11</span>) <span class="sc">/</span> (<span class="dv">45-0</span>) <span class="sc">+</span> <span class="fl">9.11</span>, </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>                        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">16</span>), <span class="at">name =</span> <span class="st">&quot;Hours&quot;</span>) ) <span class="sc">+</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>)) <span class="sc">+</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>() <span class="sc">+</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> myCaption)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_08.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="fl">5.5</span>)</span></code></pre></div>
<p><img src="envdata_08.png" /></p>
<hr />
</div>
<div id="soil-temperature" class="section level1">
<h1>Soil Temperature</h1>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>mm <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Soil Temperature 5cm&quot;</span>,  <span class="st">&quot;Soil Temperature 10cm&quot;</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;Soil Temperature 20cm&quot;</span>, <span class="st">&quot;Soil Temperature 50cm&quot;</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;Soil Temperature 100cm&quot;</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>xx <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span> </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>, </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>         Measurement <span class="sc">%in%</span> mm) <span class="sc">%&gt;%</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Measurement =</span> <span class="fu">factor</span>(Measurement, <span class="at">levels =</span> mm),</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">Measurement =</span> plyr<span class="sc">::</span><span class="fu">mapvalues</span>(Measurement, mm, </span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">&quot;5cm&quot;</span>,<span class="st">&quot;10cm&quot;</span>,<span class="st">&quot;20cm&quot;</span>,<span class="st">&quot;50cm&quot;</span>,<span class="st">&quot;100cm&quot;</span>)))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DateTime, <span class="at">y =</span> Value, <span class="at">color =</span> Measurement)) <span class="sc">+</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>() <span class="sc">+</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Soil Temperatures: Sutherland, Canada 2016&quot;</span>,</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_09.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="envdata_09.png" /></p>
<hr />
</div>
<div id="each-experiment" class="section level1">
<h1>Each experiment</h1>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Plotting function</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>envPlot <span class="ot">&lt;-</span> <span class="cf">function</span>(xx) {</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(xx, <span class="fu">aes</span>(<span class="at">x =</span> DateTime, <span class="at">y =</span> Value, <span class="at">color =</span> LoggerID)) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Measurement <span class="sc">+</span> Unit <span class="sc">~</span> ., <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">labeller =</span> <span class="fu">label_wrap_gen</span>(<span class="at">width =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_agData</span>(<span class="at">strip.placement =</span> <span class="st">&quot;outside&quot;</span>, <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_datetime</span>(<span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span> , <span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(xx<span class="sc">$</span>Location), <span class="fu">unique</span>(xx<span class="sc">$</span>Year)), </span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> myCaption)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<hr />
<div id="sutherland-canada-2016" class="section level2">
<h2>Sutherland, Canada 2016</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_01.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">15</span>)</span></code></pre></div>
<p><img src="envdata_expt_01.png" /></p>
<hr />
</div>
<div id="sutherland-canada-2017" class="section level2">
<h2>Sutherland, Canada 2017</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_02.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">11</span>)</span></code></pre></div>
<p><img src="envdata_expt_02.png" /></p>
<hr />
</div>
<div id="sutherland-canada-2018" class="section level2">
<h2>Sutherland, Canada 2018</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Sutherland, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2018</span>))</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_03.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">11</span>)</span></code></pre></div>
<p><img src="envdata_expt_03.png" /></p>
<hr />
</div>
<div id="rosthern-canada-2016" class="section level2">
<h2>Rosthern, Canada 2016</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Rosthern, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_04.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="envdata_expt_04.png" /></p>
<hr />
</div>
<div id="rosthern-canada-2017" class="section level2">
<h2>Rosthern, Canada 2017</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Rosthern, Canada&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_05.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="envdata_expt_05.png" /></p>
<hr />
</div>
<div id="central-ferry-usa-2017" class="section level2">
<h2>Central Ferry, USA 2017</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Central Ferry, USA&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_06.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">23</span>)</span></code></pre></div>
<p><img src="envdata_expt_06.png" /></p>
<hr />
</div>
<div id="central-ferry-usa-2018" class="section level2">
<h2>Central Ferry, USA 2018</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Central Ferry, USA&quot;</span>, Year <span class="sc">==</span> <span class="dv">2018</span>))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_07.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="envdata_expt_07.png" /></p>
<hr />
</div>
<div id="bhopal-india-2016" class="section level2">
<h2>Bhopal, India 2016</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Bhopal, India&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_08.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="envdata_expt_08.png" /></p>
<hr />
</div>
<div id="bhopal-india-2017" class="section level2">
<h2>Bhopal, India 2017</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Bhopal, India&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_09.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="envdata_expt_09.png" /></p>
<hr />
</div>
<div id="jessore-bangladesh-2016" class="section level2">
<h2>Jessore, Bangladesh 2016</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Jessore, Bangladesh&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_10.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">8</span>)</span></code></pre></div>
<p><img src="envdata_expt_10.png" /></p>
<hr />
</div>
<div id="jessore-bangladesh-2017" class="section level2">
<h2>Jessore, Bangladesh 2017</h2>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Jessore, Bangladesh&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_11.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="envdata_expt_11.png" /></p>
<hr />
</div>
<div id="bardiya-nepal-2016" class="section level2">
<h2>Bardiya, Nepal 2016</h2>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Bardiya, Nepal&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_12.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="envdata_expt_12.png" /></p>
<hr />
</div>
<div id="bardiya-nepal-2017" class="section level2">
<h2>Bardiya, Nepal 2017</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Bardiya, Nepal&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_13.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="envdata_expt_13.png" /></p>
<hr />
</div>
<div id="marchouch-morocco-2016" class="section level2">
<h2>Marchouch, Morocco 2016</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Marchouch, Morocco&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_14.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">9</span>)</span></code></pre></div>
<p><img src="envdata_expt_14.png" /></p>
<hr />
</div>
<div id="marchouch-morocco-2017" class="section level2">
<h2>Marchouch, Morocco 2017</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Marchouch, Morocco&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_15.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="envdata_expt_15.png" /></p>
<hr />
</div>
<div id="cordoba-spain-2016" class="section level2">
<h2>Cordoba, Spain 2016</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Cordoba, Spain&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_16.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">6</span>)</span></code></pre></div>
<p><img src="envdata_expt_16.png" /></p>
<hr />
</div>
<div id="cordoba-spain-2017" class="section level2">
<h2>Cordoba, Spain 2017</h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Cordoba, Spain&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_17.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">6</span>)</span></code></pre></div>
<p><img src="envdata_expt_17.png" /></p>
<hr />
</div>
<div id="metaponto-italy-2016" class="section level2">
<h2>Metaponto, Italy 2016</h2>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Metaponto, Italy&quot;</span>, Year <span class="sc">==</span> <span class="dv">2016</span>))</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_18.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">12</span>)</span></code></pre></div>
<p><img src="envdata_expt_18.png" /></p>
<hr />
</div>
<div id="metaponto-italy-2017" class="section level2">
<h2>Metaponto, Italy 2017</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">envPlot</span>(<span class="fu">filter</span>(dd, Location <span class="sc">==</span> <span class="st">&quot;Metaponto, Italy&quot;</span>, Year <span class="sc">==</span> <span class="dv">2017</span>))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;envdata_expt_19.png&quot;</span>, mp, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">11</span>)</span></code></pre></div>
<p><img src="envdata_expt_19.png" /></p>
<hr />
</div>
</div>
</div>

   
      <p style="text-align: center;">&copy; Derek Michael Wright</p>

   
            
      

  <script>
    $(document).ready(function () {

			
 		
		$('#content img:not(.no-lightbox)').addClass("image-lb");
	$('#content').magnificPopup({
	    type:'image',
	    closeOnContentClick: false,
	    closeBtnInside: false,
	    delegate: '.image-lb',
	    gallery: {enabled: true },
	    image: {
	        verticalFit: true,
		titleSrc: 'alt'
	    }
 	});
 	    });
  </script>



    <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
	var script = document.createElement("script");
	script.type = "text/javascript";
	script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
	document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>
  
</body>
</html>
